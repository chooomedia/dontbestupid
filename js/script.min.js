$(function(){let dbsHead=$(".dbsHead"),dbsActivity=$("#dbsCheckbox"),dbsMode=$("#dbsMode"),dbsStatus=$(".dbsStatus"),dbsCounter=$("#dbsAlertCounter");function setEnabled(){dbsActivity.prop("checked",!0),dbsStatus.text("Plugin active"),dbsHead.html("<h1 title='stay tuned - don`t waste your time'>DON`T <span style='color:red;'>BE</span><br><span style='letter-spacing:2.4px;'>STUPID</span>!</h1>"),dbsMode.attr("disabled",!1),dbsCounter.val(3),dbsCounter.attr("disabled",!1)}function setDisabled(){dbsActivity.prop("checked",!1),dbsStatus.text("Plugin deactivated!"),dbsHead.html("<h1 title='stop searching and doing the same thing over and over again!'><span style='letter-spacing:8px;'>STAY</span><br><span style='color:red;'>STUPID</span>!</h1>"),dbsMode.attr("disabled",!0),dbsCounter.attr("disabled",!0)}function isCheckboxChecked(){return dbsActivity.prop("checked")}function getMode(){return dbsMode.val()}function setMode(mode){return dbsMode.val(mode)}function getAlertCounterValue(){return dbsCounter.val()}function setAlertCounterValue(intervall){return dbsCounter.val(intervall)}function writeSettings(){chrome.storage.sync.set({_settings:{isEnabled:isCheckboxChecked(),mode:getMode(),intervall:getAlertCounterValue()}})}function readSettings(){chrome.storage.sync.get("_settings",function(settingsObj){let storedIsEnabledValue=settingsObj._settings.isEnabled,storedMode=settingsObj._settings.mode,alertCounterValue=settingsObj._settings.intervall;storedIsEnabledValue?setEnabled():setDisabled(),setMode(storedMode),setAlertCounterValue(alertCounterValue)})}readSettings(),dbsActivity.change(function(){dbsActivity.prop("checked")?(setEnabled(),writeSettings()):(setDisabled(),writeSettings())}),dbsMode.change(function(){writeSettings()}),dbsCounter.change(function(){writeSettings()})});